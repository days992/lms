<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Update Profile!</title>
<link href="homepage.css" rel="stylesheet" type="text/css">
</head>
	<h2>Update Profile</h2>
<body>
	<form id="home-form" method="post" enctype="multipart/form-data">
		<div><input id="user_id" type="hidden" method="get" type="number" value="uid" required /></div>

		<div class="form-group">
			<label id="username-label" for="username"><b>Username</b></label>
        	<input type="text" id="username"class="form-control"
			placeholder="Enter username" required />
		</div>

		<div class="form-group">
			<label id="email-label" for="email"><b>E-mail</b></label>
			<input type="text" id="email" class="form-control" 
			  placeholder="Enter your Email" required />
		</div>

		<div class="form-group">
			<label id="number-label" for="number"><b>Contact</b></label>
			<input type="text" id="contact" class="form-control"
				placeholder="Enter contact number" required />
		</div>
			  
		<div class="form-group">
			<label id="password-label" for="password"><b>Password</b></label>
			<input type="Password" id="pwd" class="form-control"
				placeholder="Enter your password" required />
		</div>
				
		<div class="form-group">
			<label id="address-label" for="address"><b>Address</b></label>
			<input type="text" id="address" class="form-control"
				placeholder="Enter your Address" required/>
			</div>

		<div class="form-group">
			<label id="number-label" for="number"><b>Pincode</b></label>
			<input type="number" id="pincode" class="form-control"
				placeholder="Enter your Pincode" required />
			</div>

		<button id="register" type="submit" value="Submit" onclick="sendDetails()">Submit</button>
	</form>

	<script>
		
		function sendDetails(){

			//alert(document.getElementById("username").value);
			var formElement=document.getElementById("home-form");

			var user_id=document.getElementById("user_id").value;
			var nameValue=document.getElementById("username").value;
			var emailValue=document.getElementById("email").value;
			var noValue=document.getElementById("contact").value;
			var pwdValue=document.getElementById("pwd").value;
			var addrValue=document.getElementById("address").value;
			var pinValue=document.getElementById("pincode").value;

			var update = {};
			update['user_id']=user_id;
			update['username']=nameValue;
			update['email']=emailValue;
			update['contact']=noValue;
			update['pwd']=pwdValue;
			update['address']=addrValue;
			update['pincode']=pinValue;

			let optionUp = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json; charset=utf-8'
            },
			body : JSON.stringify(update)
			}

			let fetchUp=fetch("http://localhost:8080/lmsl",optionUp);
			fetchUp.then(res =>res.json()).then(u => {
                console.log(u)
            })
		}	
	</script>

</body>
</html>
